---
import ProjectList from "../components/ProjectList.astro";
import ExperienceList from "../components/ExperienceList.astro";
import TagList from "../components/TagList.astro";

import Layout from "../layouts/Layout.astro";
import Markdown from "../layouts/Markdown.astro";

const experiences = await Astro.glob("../data/experience/*.md");
const projects = await Astro.glob("./projects/*.md");

const abouts = await Astro.glob("../data/about.md");
const about = abouts[0];
import skills from "../data/skills.json";
---

<Layout>
  <section id="section-hero" class="h-screen flex flex-col">
    <h1 class="mb-0 text-4xl font-light">
      hi, I'm <span class="text-orange-600 font-display text-5xl">riley.</span>
    </h1>
    <h3 class="pl-12 font-mono text-lg">engineer / web developer</h3>
  </section>

  <section id="section-about">
    <h1>./about</h1>
    <Markdown>
      <about.Content />
    </Markdown>
  </section>

  <section id="section-skills" class="-skew-y-3 bg-orange-600 text-slate-900">
    <div class="skew-y-3">
      <h1 class="">./about/tech</h1>
      <p>I am always looking ro improve my</p>
      <h2>What's in my tech stack?</h2>
      {
        skills.map((skill) => (
          <div class="py-1">
            <h3>{skill.name}</h3>
            <TagList tags={skill.tags} classes="text-orange-500 bg-slate-900" />
          </div>
        ))
      }
    </div>
  </section>

  <section id="section-experience">
    <h1>./about/experience</h1>
    <ExperienceList experiences={experiences} />
  </section>

  <section id="section-projects" class="-skew-y-3 bg-sky-600">
    <div class="skew-y-3">
      <h1>./projects</h1>
      <ProjectList projects={projects} />
    </div>
  </section>

  <style is:global>
    @tailwind base;
    @tailwind components;
    @tailwind utilities;

    @layer components {
      section {
        @apply py-8 px-4;
      }

      h1 {
        @apply mt-12 mb-8 text-4xl font-bold;
      }

      h2 {
        @apply mt-4 mb-2 text-2xl font-bold;
      }

      h3 {
        @apply mt-2 mb-2 font-bold;
      }

      p {
        @apply mb-4;
      }
    }
  </style>
</Layout>
